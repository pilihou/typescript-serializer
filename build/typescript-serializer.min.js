var io;!function(a){!function(a){!function(a){!function(a){var b=function(){function a(){}return a}();a.SerializerHelper=b;var c=function(){function a(){}return a.prototype.writeObject=function(){return d.writeObject(this)},a.prototype.readObject=function(a){return d.readObject(this,a)},a.prototype.stringify=function(a){return"undefined"==typeof a&&(a=!1),JSON.stringify(d.writeObject(this),null,a?4:0)},a.prototype.parse=function(a){d.readObject(this,JSON.parse(a))},a}();a.Serializable=c;var d=function(){function a(){}return a.registerClass=function(b,c){var d=/return ([A-Za-z0-9_$.]*)/g.exec(b.toString())[1];if(a.serializableRegisters[d])throw new Error("Class "+d+" already registered");a.getClassFromPath(d).prototype["@serializable"]=d,a.serializableRegisters[d]={keys:a.getMixedNames(c),serializerData:c}},a.writeObject=function(b){var c={},d=a.getSerializableRegister(b);return d.keys.forEach(function(e){var f=b[e];(f||a.isNumeric(f))&&a.writeAny(c,e,f,d.serializerData)}),c},a.readObject=function(b,c){var d=a.getSerializableRegister(b);return a.getSerializableRegister(b).keys.forEach(function(e){return a.readAny(c[e],e,b,d.serializerData)}),b},a.writeArray=function(b){var c={array:[]};return b.forEach(function(b,d){return a.writeAny(c.array,d,b,a.getSerializableRegisterData(b))}),c.array},a.writeAny=function(b,c,d,e,f){if("undefined"==typeof e&&(e=null),"undefined"==typeof f&&(f=!1),e&&"function"==typeof e.prototype["set_"+c])return void(b[c]=e.prototype["set_"+c](d));var g=typeof d;switch(!0){case"boolean"==g:case"string"==g:case"number"==g:b[c]=d;break;case Array.isArray(d):b[c]=a.writeArray(d);break;case"object"==g&&!Array.isArray(d):b[c]=a.isExternalizable(d)?a.writeObject(d):JSON.parse(JSON.stringify(d))}},a.readArray=function(b){var c=[];return b.forEach(function(b,d){a.readAny(b,d,c,a.getSerializableRegisterData(b))}),c},a.readAny=function(b,c,d,e){if(e&&"function"==typeof e.prototype["get_"+c])return void(d[c]=e.prototype["get_"+c](b));var f=typeof b;switch(!0){case"boolean"==f:case"string"==f:case"number"==f:d[c]=b;break;case Array.isArray(b):d[c]=a.readArray(b);break;case"object"==f&&!Array.isArray(b):if(b.hasOwnProperty("@serializable")){var g=b["@serializable"].split("."),h=g.join(".");d[c]||(d[c]=a.getClass(h)),d[c].readObject(b)}else d[c]=b}},a.getMixedNames=function(a){return Object.getOwnPropertyNames(new a).concat("@serializable")},a.isExternalizable=function(a){return"@serializable"in a&&"function"==typeof a.writeObject&&"function"==typeof a.readObject},a.getClassFromPath=function(a,b){return"undefined"==typeof b&&(b=window),a.split(".").forEach(function(a){return b=b[a]}),b},a.getClass=function(a,b){return"undefined"==typeof b&&(b=window),a.split(".").forEach(function(a){return b=b[a]}),new b},a.getSerializableRegister=function(b){var c=a.serializableRegisters[b["@serializable"]]||null;return c},a.getSerializableRegisterData=function(b){var c=a.getSerializableRegister(b);return c?c.serializerData:null},a.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.serializableRegisters={},a}();a.Serializer=d}(a.serialize||(a.serialize={}));a.serialize}(a.utils||(a.utils={}));a.utils}(a.xperiments||(a.xperiments={}));a.xperiments}(io||(io={}));